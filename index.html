<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Adventure: Comparatives & Superlatives</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comic Neue', cursive, sans-serif;
            background-color: #f0f9ff;
        }
        .step-content {
            display: none;
        }
        .step-content.active {
            display: block;
        }
        .card {
            transition: transform 0.2s;
        }
        .card:hover {
            transform: scale(1.02);
        }
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .pop-on-hover:hover {
            animation: pop 0.3s ease-in-out;
        }
    </style>
</head>
<body class="min-h-screen text-slate-800">

    <div class="max-w-4xl mx-auto p-4 sm:p-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-600 mb-2">üåü Grammar Adventure üåü</h1>
            <p class="text-xl text-slate-600">Learning Comparatives & Superlatives</p>
        </header>

        <!-- Navigation Tabs -->
        <nav class="flex justify-center space-x-2 mb-8" id="main-nav">
            <button onclick="showStep('learn')" id="tab-learn" class="pop-on-hover px-6 py-2 rounded-full font-bold bg-blue-500 text-white shadow-md transition">1. Practice üìñ</button>
            <button onclick="showStep('quiz')" id="tab-quiz" class="pop-on-hover px-6 py-2 rounded-full font-bold bg-white text-blue-500 border-2 border-blue-500 hover:bg-blue-50 shadow-sm transition">2. Quiz üöÄ</button>
            <button onclick="showStep('review')" id="tab-review" class="pop-on-hover px-6 py-2 rounded-full font-bold bg-white text-blue-500 border-2 border-blue-500 hover:bg-blue-50 shadow-sm transition">3. Review üèÜ</button>
        </nav>

        <!-- Main Content Area -->
        <main id="content" class="bg-white rounded-3xl shadow-xl p-6 sm:p-10 border-4 border-blue-100">

            <!-- Learn Phase -->
            <section id="step-learn" class="step-content active">
                <h2 class="text-3xl font-bold text-center mb-6 text-purple-600">Let's Learn! üí°</h2>

                <div class="space-y-8">
                    <!-- Short Adjectives -->
                    <div class="bg-blue-50 p-6 rounded-2xl border-2 border-blue-200">
                        <h3 class="text-2xl font-bold text-blue-700 mb-4">üìè Short Adjectives</h3>
                        <p class="mb-4 text-lg">Just add <b>-er</b> or <b>-est</b>!</p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center">
                                <span class="block text-slate-500 text-sm">Adjective</span>
                                <span class="text-xl font-bold">tall</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-blue-300">
                                <span class="block text-slate-500 text-sm">2 People (Comparative)</span>
                                <span class="text-xl font-bold text-blue-600">taller</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-blue-500">
                                <span class="block text-slate-500 text-sm">3+ People (Superlative)</span>
                                <span class="text-xl font-bold text-blue-800">the tallest</span>
                            </div>
                        </div>
                    </div>

                    <!-- Long Adjectives -->
                    <div class="bg-green-50 p-6 rounded-2xl border-2 border-green-200">
                        <h3 class="text-2xl font-bold text-green-700 mb-4">‚ú® Long Adjectives</h3>
                        <p class="mb-4 text-lg">Use <b>more</b> or <b>the most</b>!</p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center">
                                <span class="block text-slate-500 text-sm">Adjective</span>
                                <span class="text-xl font-bold">beautiful</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-green-300">
                                <span class="block text-slate-500 text-sm">Comparative</span>
                                <span class="text-xl font-bold text-green-600">more beautiful</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-green-500">
                                <span class="block text-slate-500 text-sm">Superlative</span>
                                <span class="text-xl font-bold text-green-800">the most beautiful</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ending in -Y -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-2 border-pink-200">
                        <h3 class="text-2xl font-bold text-pink-700 mb-4">ü§° Ending in -Y</h3>
                        <p class="mb-4 text-lg">Change <b>-y</b> to <b>-i</b> and add <b>-er</b> or <b>-est</b>!</p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center">
                                <span class="block text-slate-500 text-sm">Adjective</span>
                                <span class="text-xl font-bold">happy</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-pink-300">
                                <span class="block text-slate-500 text-sm">Comparative</span>
                                <span class="text-xl font-bold text-pink-600">happier</span>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm text-center border-2 border-pink-500">
                                <span class="block text-slate-500 text-sm">Superlative</span>
                                <span class="text-xl font-bold text-pink-800">the happiest</span>
                            </div>
                        </div>
                    </div>

                    <!-- Double Consonant -->
                    <div class="bg-orange-50 p-6 rounded-2xl border-2 border-orange-200">
                        <h3 class="text-2xl font-bold text-orange-700 mb-4">üêò Special Spelling</h3>
                        <p class="mb-4 text-lg">For some short words, double the last letter!</p>
                        <div class="bg-white p-4 rounded-xl shadow-sm flex justify-around items-center">
                            <div class="text-center"><span class="block text-slate-400">Adjective</span><b class="text-xl">big</b></div>
                            <div class="text-2xl">‚û°Ô∏è</div>
                            <div class="text-center"><span class="block text-slate-400">Comparative</span><b class="text-xl text-orange-600">bigger</b></div>
                            <div class="text-2xl">‚û°Ô∏è</div>
                            <div class="text-center"><span class="block text-slate-400">Superlative</span><b class="text-xl text-orange-800">the biggest</b></div>
                        </div>
                    </div>

                    <!-- Irregular Adjectives -->
                    <div class="bg-yellow-50 p-6 rounded-2xl border-2 border-yellow-200">
                        <h3 class="text-2xl font-bold text-yellow-700 mb-4">ü§™ Irregular Ones!</h3>
                        <p class="mb-4 text-lg">These change completely!</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-white p-4 rounded-xl shadow-sm">
                                <p class="text-lg">üåü <b>good</b> ‚Üí better ‚Üí the best</p>
                            </div>
                            <div class="bg-white p-4 rounded-xl shadow-sm">
                                <p class="text-lg">‚ùå <b>bad</b> ‚Üí worse ‚Üí the worst</p>
                            </div>
                        </div>
                    </div>

                    <!-- Reading Practice -->
                    <div class="bg-indigo-50 p-6 rounded-2xl border-2 border-indigo-200">
                        <h3 class="text-2xl font-bold text-indigo-700 mb-4">üìñ Reading Time</h3>
                        <div class="bg-white p-6 rounded-xl shadow-sm italic text-lg leading-relaxed">
                            "Eugenius is <b>the youngest</b> person in his family. He has got two twin sisters, Emma and Jo. They are <b>older than</b> his friend Ginny.
                            Ginny loves History. She says: 'It is <b>more interesting than</b> Maths!'
                            Their friend Dax is a robot. He is <b>the laziest</b> robot in the world! He thinks TV is <b>more exciting than</b> housework."
                        </div>
                    </div>
                </div>

                <!-- Mini Practice Section -->
                <div class="mt-12 p-8 bg-slate-800 text-white rounded-3xl">
                    <h3 class="text-2xl font-bold mb-4 text-center">Quick Check! ‚úÖ</h3>
                    <p class="text-center mb-6">What is the comparative form of <b>"fast"</b>?</p>
                    <div class="flex flex-wrap justify-center gap-4">
                        <button onclick="checkMiniPractice(this, 'faster')" class="bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded-xl font-bold transition">fastest</button>
                        <button onclick="checkMiniPractice(this, 'faster')" class="bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded-xl font-bold transition">faster</button>
                        <button onclick="checkMiniPractice(this, 'faster')" class="bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded-xl font-bold transition">more fast</button>
                    </div>
                    <p id="mini-feedback" class="text-center mt-4 h-6 font-bold"></p>
                </div>

                <div class="text-center mt-10">
                    <button onclick="showStep('quiz')" class="bg-blue-600 hover:bg-blue-700 text-white text-2xl font-bold px-10 py-4 rounded-full shadow-lg transform hover:scale-105 transition">
                        I'm Ready for the Quiz! üöÄ
                    </button>
                </div>
            </section>

            <!-- Quiz Phase -->
            <section id="step-quiz" class="step-content">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-orange-500">Quiz Time! ‚úçÔ∏è</h2>
                    <div id="quiz-progress" class="text-xl font-bold text-slate-500">Question 1/10</div>
                </div>

                <div id="question-container" class="space-y-6">
                    <!-- Question will be injected here -->
                </div>

                <div id="quiz-feedback" class="mt-8 hidden p-6 rounded-2xl text-center text-xl font-bold animate-bounce">
                    <!-- Feedback will be injected here -->
                </div>

                <div class="mt-10 flex justify-end">
                    <button id="next-btn" onclick="nextQuestion()" class="hidden bg-orange-500 hover:bg-orange-600 text-white font-bold px-8 py-3 rounded-xl shadow-md transition">
                        Next Question ‚û°Ô∏è
                    </button>
                </div>
            </section>

            <!-- Review Phase -->
            <section id="step-review" class="step-content text-center">
                <h2 class="text-4xl font-bold text-blue-600 mb-4">Great Job! ü•≥</h2>
                <div id="final-score" class="text-6xl font-black text-purple-600 my-8">
                    0/10
                </div>
                <p id="review-message" class="text-2xl text-slate-600 mb-10">
                    You are a grammar superstar!
                </p>

                <div id="mistakes-review" class="text-left bg-slate-50 p-6 rounded-2xl border-2 border-slate-200 mb-10 hidden">
                    <h3 class="text-2xl font-bold mb-4">Let's look at your answers:</h3>
                    <ul id="mistakes-list" class="space-y-3 list-disc pl-5">
                        <!-- Mistakes will be injected here -->
                    </ul>
                </div>

                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <button onclick="restartApp()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold px-10 py-4 rounded-full shadow-lg transition">
                        Try Again üîÑ
                    </button>
                    <button onclick="alert('Great job! Keep learning! üåü')" class="bg-green-500 hover:bg-green-600 text-white font-bold px-10 py-4 rounded-full shadow-lg transition">
                        Share Score üéÄ
                    </button>
                </div>
            </section>

        </main>

        <footer class="mt-8 text-center text-slate-400 text-sm">
            Made with ‚ù§Ô∏è for young learners
        </footer>
    </div>

    <script>
        // Data Structure
        const appData = {
            adjectives: [
                { word: "tall", comp: "taller", sup: "the tallest", type: "short" },
                { word: "big", comp: "bigger", sup: "the biggest", type: "short-double" },
                { word: "fast", comp: "faster", sup: "the fastest", type: "short" },
                { word: "good", comp: "better", sup: "the best", type: "irregular" },
                { word: "bad", comp: "worse", sup: "the worst", type: "irregular" },
                { word: "expensive", comp: "more expensive", sup: "the most expensive", type: "long" },
                { word: "beautiful", comp: "more beautiful", sup: "the most beautiful", type: "long" },
                { word: "happy", comp: "happier", sup: "the happiest", type: "y-ending" },
                { word: "funny", comp: "funnier", sup: "the funniest", type: "y-ending" },
                { word: "intelligent", comp: "more intelligent", sup: "the most intelligent", type: "long" }
            ],
            questions: [
                { q: "A horse is _______ than a cow.", a: "faster", options: ["faster", "fastest", "more fast"], logic: "Comparing 2 animals." },
                { q: "The giraffe is the _______ animal.", a: "tallest", options: ["taller", "tallest", "most tall"], logic: "The #1 in the group." },
                { q: "This cake is _______ than that one.", a: "better", options: ["gooder", "better", "best"], logic: "Good is irregular!" },
                { q: "My brother is _______ than me.", a: "taller", options: ["taller", "tallest", "more tall"], logic: "Comparing 2 people." },
                { q: "Maths is _______ than Science.", a: "more interesting", options: ["interesting", "interestinger", "more interesting"], logic: "Long words use 'more'!" },
                { q: "Mount Everest is the _______ mountain.", a: "highest", options: ["higher", "highest", "most high"], logic: "Top of the world!" },
                { q: "A car is _______ than a bicycle.", a: "more expensive", options: ["expensiver", "more expensive", "most expensive"], logic: "Long words use 'more'!" },
                { q: "The blue whale is the _______ animal.", a: "biggest", options: ["bigger", "biggest", "bigest"], logic: "Remember the double 'g'!" },
                { q: "He is the _______ person in his family.", a: "youngest", options: ["younger", "youngest", "more young"], logic: "One person in a group." },
                { q: "The clown is the _______ person in the circus!", a: "funniest", options: ["funnier", "funniest", "most funny"], logic: "Ending in 'y' changes to 'i'!" },
                { q: "Tokyo is _______ than London.", a: "bigger", options: ["big", "bigger", "biggest"], logic: "Comparing 2 cities." },
                { q: "Dax is the _______ robot in the world!", a: "laziest", options: ["lazyest", "laziest", "most lazy"], logic: "-y changes to -iest!" },
                { q: "History is _______ than Maths.", a: "more interesting", options: ["interesting", "interestinger", "more interesting"], logic: "Use 'more' for long words." },
                { q: "A lion is _______ than a cat.", a: "more dangerous", options: ["dangerouser", "more dangerous", "most dangerous"], logic: "Long word rule!" },
                { q: "It was the _______ day of my life!", a: "worst", options: ["badest", "worse", "worst"], logic: "Bad is irregular: bad -> worse -> worst." }
            ]
        };

        let currentQuizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        function showStep(stepId) {
            // Update tabs
            const tabs = ['learn', 'quiz', 'review'];
            tabs.forEach(t => {
                const btn = document.getElementById(`tab-${t}`);
                if (t === stepId) {
                    btn.className = "px-6 py-2 rounded-full font-bold bg-blue-500 text-white shadow-md transition";
                } else {
                    btn.className = "px-6 py-2 rounded-full font-bold bg-white text-blue-500 border-2 border-blue-500 hover:bg-blue-50 shadow-sm transition";
                }
            });

            // Update content
            document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${stepId}`).classList.add('active');

            if (stepId === 'quiz') {
                initQuiz();
            } else if (stepId === 'review') {
                updateReview();
            }
        }

        function initQuiz() {
            // Shuffle and pick 10 questions
            currentQuizQuestions = [...appData.questions]
                .sort(() => Math.random() - 0.5)
                .slice(0, 10);

            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            loadQuestion();
        }

        function loadQuestion() {
            const question = currentQuizQuestions[currentQuestionIndex];
            const container = document.getElementById('question-container');
            const progress = document.getElementById('quiz-progress');
            const feedback = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-btn');

            progress.innerText = `Question ${currentQuestionIndex + 1}/${currentQuizQuestions.length}`;
            feedback.classList.add('hidden');
            nextBtn.classList.add('hidden');

            container.innerHTML = `
                <div class="text-2xl font-bold mb-6">${question.q}</div>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    ${question.options.map(opt => `
                        <button onclick="checkAnswer('${opt}')" class="option-btn bg-white border-4 border-blue-100 hover:border-blue-400 p-4 rounded-2xl text-xl font-bold transition">
                            ${opt}
                        </button>
                    `).join('')}
                </div>
            `;
        }

        function checkAnswer(selected) {
            const question = currentQuizQuestions[currentQuestionIndex];
            const feedback = document.getElementById('quiz-feedback');
            const nextBtn = document.getElementById('next-btn');
            const buttons = document.querySelectorAll('.option-btn');

            // Disable all buttons
            buttons.forEach(btn => {
                btn.disabled = true;
                if (btn.innerText.trim() === question.a) {
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-700');
                } else if (btn.innerText.trim() === selected) {
                    btn.classList.add('bg-red-100', 'border-red-500', 'text-red-700');
                }
            });

            const isCorrect = selected === question.a;
            userAnswers.push({
                question: question.q,
                correct: question.a,
                user: selected,
                isCorrect: isCorrect,
                logic: question.logic
            });

            if (isCorrect) {
                score++;
                feedback.innerHTML = "‚úÖ Awesome! You got it! üåü";
                feedback.className = "mt-8 p-6 rounded-2xl text-center text-xl font-bold animate-bounce bg-green-50 text-green-700 border-2 border-green-200";
            } else {
                feedback.innerHTML = `‚ùå Oops! The correct word is <b>${question.a}</b>. <br> <span class="text-sm font-normal">${question.logic}</span>`;
                feedback.className = "mt-8 p-6 rounded-2xl text-center text-xl font-bold bg-red-50 text-red-700 border-2 border-red-200";
            }

            feedback.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizQuestions.length) {
                loadQuestion();
            } else {
                showStep('review');
            }
        }

        function launchEmojiConfetti() {
            const emojis = ['üåü', '‚ú®', 'üéà', 'üéâ', 'üéä', 'üèÜ', 'üî•'];
            for (let i = 0; i < 20; i++) {
                const confetti = document.createElement('div');
                confetti.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                confetti.style.position = 'fixed';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.fontSize = Math.random() * 20 + 20 + 'px';
                confetti.style.zIndex = '1000';
                confetti.style.transition = 'transform 2s linear, top 2s linear';
                document.body.appendChild(confetti);

                setTimeout(() => {
                    confetti.style.top = '100vh';
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                }, 10);

                setTimeout(() => {
                    confetti.remove();
                }, 2000);
            }
        }

        function updateReview() {
            const finalScore = document.getElementById('final-score');
            const reviewMsg = document.getElementById('review-message');
            const mistakesReview = document.getElementById('mistakes-review');

            finalScore.innerText = `${score}/${currentQuizQuestions.length}`;

            if (score === currentQuizQuestions.length) {
                reviewMsg.innerText = "Perfect Score! You are a Grammar Master! üèÜ‚ú®";
                mistakesReview.classList.add('hidden');
                launchEmojiConfetti();
            } else if (score >= currentQuizQuestions.length / 2) {
                launchEmojiConfetti();
                reviewMsg.innerText = "Great job! You know your adjectives! üåü";
                showMistakes();
            } else {
                reviewMsg.innerText = "Keep practicing! You can do it! üí™";
                showMistakes();
            }
        }

        function showMistakes() {
            const mistakesList = document.getElementById('mistakes-list');
            const mistakesReview = document.getElementById('mistakes-review');
            mistakesReview.classList.remove('hidden');

            mistakesList.innerHTML = userAnswers.map(ans => `
                <li class="mb-4">
                    <p class="font-bold">${ans.question.replace('_______', `<span class="${ans.isCorrect ? 'text-green-600' : 'text-red-600 underline'}">${ans.user}</span>`)}</p>
                    ${!ans.isCorrect ? `<p class="text-sm text-slate-600">Correct: <span class="font-bold text-green-600">${ans.correct}</span>. ${ans.logic}</p>` : ''}
                </li>
            `).join('');
        }

        function restartApp() {
            showStep('learn');
        }

        function checkMiniPractice(btn, correct) {
            const feedback = document.getElementById('mini-feedback');
            if (btn.innerText.trim() === correct) {
                feedback.innerText = "Correct! üåü Well done.";
                feedback.className = "text-center mt-4 h-6 font-bold text-green-400";
                btn.classList.add('bg-green-600');
            } else {
                feedback.innerText = "Try again! Think about the rule. ü§î";
                feedback.className = "text-center mt-4 h-6 font-bold text-red-400";
                btn.classList.add('bg-red-600');
                setTimeout(() => {
                    btn.classList.remove('bg-red-600');
                }, 1000);
            }
        }
    </script>
</body>
</html>
